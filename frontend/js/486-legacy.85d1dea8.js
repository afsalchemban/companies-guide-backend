"use strict";(self["webpackChunkcompany_guide"]=self["webpackChunkcompany_guide"]||[]).push([[486],{2486:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full mt-20 mb-20"},[r("div",{staticClass:"leading-loose max-w-xl m-4 p-7 bg-secondary-light dark:bg-secondary-dark rounded-xl shadow-xl text-left m-auto"},[r("p",{staticClass:"font-general-medium text-center text-primary-dark dark:text-primary-light text-lg sm:text-2xl mb-8"},[e._v(" Add Company ")]),r("div",[r("label",{staticClass:"block my-3 text-sm sm:text-lg text-primary-dark dark:text-primary-light mb-2",attrs:{for:"name"}},[e._v("Add Logo")]),r("UploadImg",{on:{src:function(t){return e.getimg(t)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.business_name,expression:"business_name"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"business_name"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{id:"name",type:"text",required:"",placeholder:"Name"},domProps:{value:e.business_name},on:{input:function(t){t.target.composing||(e.business_name=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.business_name?e.errors.business_name[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.phone_number,expression:"phone_number"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"phone_number"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"tel",required:"",placeholder:"Phone"},domProps:{value:e.phone_number},on:{input:function(t){t.target.composing||(e.phone_number=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.phone_number?e.errors.phone_number[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.landline_number,expression:"landline_number"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"landline_number"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"tel",required:"",placeholder:"Landline"},domProps:{value:e.landline_number},on:{input:function(t){t.target.composing||(e.landline_number=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.landline_number?e.errors.landline_number[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"email"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"email",required:"",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.email?e.errors.email[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trade_license_number,expression:"trade_license_number"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"trade_license_number"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Trade Licence Number"},domProps:{value:e.trade_license_number},on:{input:function(t){t.target.composing||(e.trade_license_number=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.trade_license_number?e.errors.trade_license_number[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"company_activity_id"in e.errors?"invalid":"",attrs:{options:e.options.activities,reduce:function(e){return e.id},label:"title",placeholder:"Activities",taggable:"","push-tags":""},on:{search:function(t){return e.get_activities(t)}},model:{value:e.selected_activities,callback:function(t){e.selected_activities=t},expression:"selected_activities"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.company_activity_id?e.errors.company_activity_id[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"legal_status"in e.errors?"invalid":"",attrs:{options:e.options.legal_status,placeholder:"Legal Status",taggable:"","push-tags":""},model:{value:e.legal_status,callback:function(t){e.legal_status=t},expression:"legal_status"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.legal_status?e.errors.legal_status[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"issued_by"in e.errors?"invalid":"",attrs:{options:e.options.issued_by,placeholder:"Issued By",taggable:"","push-tags":""},model:{value:e.issued_by,callback:function(t){e.issued_by=t},expression:"issued_by"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.issued_by?e.errors.issued_by[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"country_id"in e.errors?"invalid":"",attrs:{options:e.options.countries,reduce:function(e){return e.id},placeholder:"Country",label:"name",taggable:"","push-tags":""},on:{"option:selected":e.get_city},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.country_id?e.errors.country_id[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"city_id"in e.errors?"invalid":"",attrs:{options:e.options.cities,label:"name",reduce:function(e){return e.id},placeholder:"City",taggable:"","push-tags":""},on:{"option:selected":e.get_area},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.city_id?e.errors.city_id[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"area_id"in e.errors?"invalid":"",attrs:{options:e.options.areas,label:"name",reduce:function(e){return e.id},placeholder:"Area",taggable:"","push-tags":""},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.area_id?e.errors.area_id[0]:"")+" ")]),r("label",{staticClass:"block my-3 text-sm sm:text-lg text-primary-dark dark:text-primary-light mb-2",attrs:{for:"name"}},[e._v("person In Charge")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.person_in_charge_name,expression:"person_in_charge_name"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"person_in_charge_name"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Name"},domProps:{value:e.person_in_charge_name},on:{input:function(t){t.target.composing||(e.person_in_charge_name=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.person_in_charge_name?e.errors.person_in_charge_name[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.person_in_charge_designation,expression:"person_in_charge_designation"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"person_in_charge_designation"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Designation"},domProps:{value:e.person_in_charge_designation},on:{input:function(t){t.target.composing||(e.person_in_charge_designation=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.person_in_charge_designation?e.errors.person_in_charge_designation[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.person_in_charge_mobile,expression:"person_in_charge_mobile"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"person_in_charge_mobile"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Mobile"},domProps:{value:e.person_in_charge_mobile},on:{input:function(t){t.target.composing||(e.person_in_charge_mobile=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.person_in_charge_mobile?e.errors.person_in_charge_mobile[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.person_in_charge_email,expression:"person_in_charge_email"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light rounded-md shadow-sm text-sm sm:text-md",class:"person_in_charge_email"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Email"},domProps:{value:e.person_in_charge_email},on:{input:function(t){t.target.composing||(e.person_in_charge_email=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.person_in_charge_email?e.errors.person_in_charge_email[0]:"")+" ")]),r("v-select",{staticClass:"dropdown my-2",class:"person_in_charge_country"in e.errors?"invalid":"",attrs:{options:e.options.countries,reduce:function(e){return e.id},placeholder:"Nationality",label:"name",taggable:"","push-tags":""},model:{value:e.person_in_charge_country,callback:function(t){e.person_in_charge_country=t},expression:"person_in_charge_country"}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.person_in_charge_country?e.errors.person_in_charge_country[0]:"")+" ")])],1),r("div",[r("button",{staticClass:"px-4 my-3 py-2.5 w-full text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",attrs:{type:"button","aria-label":"Signup"},on:{click:function(t){return e.add_council_company(e.$route.query.id)}}},[e._v(" Add ")])])])])},s=[],i=(r(7327),r(1539),r(4916),r(3123),r(6699),r(2023),r(4747),r(8309),r(5415)),o=r(6931),n=r(768),d=r.n(n),l={name:"Settings",isCropped:!1,data:function(){return{errors:{},errorMessage:null,id:"",options:{activities:[],countries:[],cities:[],areas:[],legal_status:[],issued_by:[]},company_council_logo:"",country_status:"Country",city_status:"City",area_status:"Area",business_name:"",email:"",phone_number:"",landline_number:"",trade_license_number:"",selected_activities:[],legal_status:"",issued_by:"",country:"",city:"",area:"",person_in_charge_name:"",person_in_charge_designation:"",person_in_charge_email:"",person_in_charge_mobile:"",person_in_charge_country:""}},components:{vSelect:d(),UploadImg:i.Z},computed:{filteroptions:function(){var e=this;return this.options.activities.filter((function(t){return e.selected_activities.toLowerCase().split(" ").every((function(e){return t.toLowerCase().includes(e)}))}))}},methods:{getimg:function(e){this.company_council_logo=e},add_council_company:function(e){var t=this,r=new FormData;r.append("logo_file",this.company_council_logo),r.append("business_name",this.business_name),r.append("email",this.email),r.append("phone_number",this.phone_number),r.append("landline_number",this.landline_number),r.append("trade_license_number",this.trade_license_number),r.append("company_activity_id",this.selected_activities),r.append("legal_status",this.legal_status),r.append("issued_by",this.issued_by),r.append("country_id",this.country),r.append("city_id",this.city),r.append("area_id",this.area),r.append("person_in_charge_name",this.person_in_charge_name),r.append("person_in_charge_designation",this.person_in_charge_designation),r.append("person_in_charge_email",this.person_in_charge_email),r.append("person_in_charge_mobile",this.person_in_charge_mobile),r.append("person_in_charge_country",this.person_in_charge_country),o.Z.post("council/council_company/"+e,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),t.$router.push({name:"Council"})})).catch((function(e){t.errors=e.response.data.errors,t.errorMessage=e.response.data.message,console.log(e.response.data.errors)}))},get_activities:function(e){var t=this;o.Z.get("/data/company_activities/"+e).then((function(e){console.log(e.data),t.options.activities=[],e.data.activities.forEach((function(e){t.options.activities.push(e)}))})).catch((function(e){console.log(e.message)}))},get_legal_status:function(){var e=this;try{o.Z.get("/data/legal_statuses").then((function(t){t.data.legal_statuses.forEach((function(t){e.options.legal_status.push(t.name)}))}))}catch(t){console.log(t.message)}},get_issued_by:function(){var e=this;try{o.Z.get("/data/issued_by").then((function(t){t.data.issued_by.forEach((function(t){e.options.issued_by.push(t.name)}))}))}catch(t){console.log(t.message)}},get_country:function(){var e=this;o.Z.get("/data/countries/").then((function(t){t.data.countries.forEach((function(t){e.options.countries.push(t)}))})).catch((function(e){console.log(e.message)}))},get_city:function(){var e=this;o.Z.get("/data/cities/"+this.country).then((function(t){e.options.cities=[],console.log(t.data),t.data.cities.length>0?(t.data.cities.forEach((function(t){e.options.cities.push(t)})),e.city="Select City"):e.city="Not Found"})).catch((function(e){console.log(e.data)}))},get_area:function(){var e=this;o.Z.get("/data/areas/"+this.city).then((function(t){e.options.areas=[],console.log(t.data),t.data.areas.length>0?(t.data.areas.forEach((function(t){e.options.areas.push(t)})),e.area="Select Area"):e.area="Not Found"})).catch((function(e){console.log(e.data)}))}},created:function(){this.get_legal_status(),this.get_issued_by(),this.get_country(),this.$store.state.hideConfigButton=!0,this.$store.state.showNavbar=!1,this.$store.state.showSidenav=!1,this.$store.state.showFooter=!1}},c=l,p=r(3736),u=(0,p.Z)(c,a,s,!1,null,null,null),m=u.exports},5415:function(e,t,r){r.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"uploadWrap bg-white rounded"},[r("div",{staticClass:"w-100 px-5 py-1 border rounded-md shadow-sm text-sm"},[r("div",[e.isCropped?r("div",[r("Cropper",{attrs:{src:e.img},on:{change:e.change}}),r("div",{staticClass:"save-image d-flex justify-content-between px-3"},[r("button",{staticClass:"text-sm btn btn-sm btn-success d-flex align-content-center",on:{click:e.saveImage}},[e._v(" Save ")]),r("button",{staticClass:"text-sm btn btn-sm btn-danger d-flex align-content-center",on:{click:e.CancelCrop}},[e._v(" Cancel ")])])],1):e._e(),e.before_crop&&!e.isCropped?r("div",[r("div",{staticClass:"img-selected-wrapper"},[r("div",{staticClass:"selected-images"},[r("img",{attrs:{src:e.blobUrl}}),r("span",{staticClass:"material-icons removeIco",on:{click:function(t){return e.delete_image()}}},[e._v("X")])])])]):e._e()]),r("div",{staticClass:"uploader-box"},[e.ShowChooseFile?r("div",{on:{click:e.chooseFile}},[r("div",{staticClass:"px-4 py-2.5 w-full text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",attrs:{role:"button"}},[r("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.chooseImage(t)}}}),e._v(" Upload ")])]):e._e()])])])])},s=[],i=(r(1539),r(8783),r(3948),r(285),r(1637),r(6867)),o={data:function(){return{before_crop:!1,isCropped:!1,ShowChooseFile:!0,IsDisabledUpload:!1,files:[],temp:"",mapMarkers:{},file:null,blobUrl:null}},components:{Cropper:i.fl},methods:{getimgsrc:function(){this.$emit("src",this.file)},chooseFile:function(){this.$refs.file.click()},CancelCrop:function(){this.before_crop=!0,this.isCropped=!1,this.ShowChooseFile=!0},saveImage:function(){this.before_crop=!0,this.isCropped=!1,this.ShowChooseFile=!0,this.getimgsrc()},change:function(e){var t=this,r=e.canvas;r.toBlob((function(e){t.blobUrl=URL.createObjectURL(e),t.file=new File([e],"image",{lastModified:(new Date).getTime(),type:e.type})}))},chooseImage:function(e){var t=e.target.files[0];this.file=t,this.img=URL.createObjectURL(t);var r=new FileReader,a=this;r.readAsDataURL(e.target.files[0]),r.onload=function(e){console.log(a.isCropped);var t=new Image;t.src=e.target.result,t.onload=function(){var e=this.height,t=this.width;return e<210||t<210?(alert("Please choose file which has minimum height of 210 and width of 210"),!1):(a.ShowChooseFile=!1,a.isCropped=!0,!0)}}},delete_image:function(){this.file=null,this.blobUrl=null,this.before_crop=!1,this.isCropped=!1,this.ShowChooseFile=!0,this.IsDisabledUpload=!1}}},n=o,d=r(3736),l=(0,d.Z)(n,a,s,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=486-legacy.85d1dea8.js.map