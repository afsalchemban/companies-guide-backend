"use strict";(self["webpackChunkcompany_guide"]=self["webpackChunkcompany_guide"]||[]).push([[550],{4550:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mb-5"},[a("p",{staticClass:"font-general-medium text-center text-primary-dark dark:text-primary-light text-lg sm:text-2xl mb-8"},[e._v(" Add Events ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md",attrs:{type:"text",required:"",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.location,expression:"location"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md",attrs:{type:"text",required:"",placeholder:"Location"},domProps:{value:e.location},on:{input:function(t){t.target.composing||(e.location=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.event_date,expression:"event_date"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md",attrs:{type:"date",required:"",placeholder:"Date"},domProps:{value:e.event_date},on:{input:function(t){t.target.composing||(e.event_date=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md",attrs:{type:"text",required:"",placeholder:"Linke"},domProps:{value:e.link},on:{input:function(t){t.target.composing||(e.link=t.target.value)}}}),a("label",{staticClass:"block my-3 text-sm sm:text-lg text-primary-dark dark:text-primary-light mb-2",attrs:{for:"name"}},[e._v("Add Image")]),a("UploadImg",{on:{file:function(t){return e.getimg(t)}}}),a("div",[a("button",{staticClass:"px-4 py-2.5 w-full mt-6 text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",attrs:{type:"button","aria-label":"Signup"},on:{click:function(t){return e.add_events(e.$route.query.id)}}},[e._v(" Add ")])])],1)},i=[],o=a(3345),n=a(6931),s={name:"add-events",data(){return{name:null,location:null,event_date:null,link:null,image:null}},components:{UploadImg:o.Z},methods:{getimg(e){this.image=e},add_events(e){let t=new FormData;t.append("name",this.name),t.append("location",this.location),t.append("event_date",this.event_date),t.append("link",this.link),t.append("image",this.image),n.Z.post("/council/add_event/"+e,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data),this.$router.push({path:"/council/events",query:{name:this.$route.query.name,id:this.$route.query.id}})})).catch((e=>{console.log(e.message)}))}}},d=s,l=a(3736),m=(0,l.Z)(d,r,i,!1,null,null,null),c=m.exports},3345:function(e,t,a){a.d(t,{Z:function(){return m}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"uploadWrap"},[a("div",{staticClass:"w-full px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md"},[a("div",[e.isCropped?a("div",[a("Cropper",{attrs:{src:e.img},on:{change:e.change}}),a("div",{staticClass:"save-image flex justify-between"},[a("button",{staticClass:"text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",on:{click:e.saveImage}},[e._v(" Save ")]),a("button",{staticClass:"text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",on:{click:e.CancelCrop}},[e._v(" Cancel ")])])],1):e._e(),e.before_crop?a("div",{staticClass:"mb-3"},[a("div",{staticClass:"img-selected-wrapper"},e._l(e.InitialArray,(function(t,r){return a("div",{key:r,staticClass:"selected-images"},[a("img",{attrs:{src:t}}),a("span",{staticClass:"material-icons removeIco",on:{click:function(t){return e.delete_image(r)}}},[e._v("X")])])})),0)]):e._e()]),a("div",{staticClass:"uploader-box"},[e.ShowChooseFile?a("div",{on:{click:e.chooseFile}},[a("div",{staticClass:"px-4 py-2.5 w-full text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",attrs:{role:"button"}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.chooseImage(t)}}}),e._v(" Upload ")])]):e._e()])])])])},i=[],o=a(6867),n={data(){return{before_crop:!0,isCropped:!1,ShowChooseFile:!0,IsDisabledUpload:!1,files:[],InitialArray:[],RealArray:[],temp:"",mapMarkers:{},img_file:null}},components:{Cropper:o.fl},methods:{getimgfile(){this.$emit("file",this.img_file)},chooseFile(){this.$refs.file.click()},CancelCrop(){this.before_crop=!0,this.isCropped=!1,this.ShowChooseFile=!0},saveImage(){this.before_crop=!0,this.isCropped=!1,this.ShowChooseFile=!0,this.getimgfile()},change({canvas:e}){e.toBlob((e=>{this.blobUrl=URL.createObjectURL(e),this.img_file=new File([e],"image",{lastModified:(new Date).getTime(),type:e.type},"image/jpeg",.3)}))},chooseImage(e){const t=e.target.files[0];this.img=URL.createObjectURL(t);var a=new FileReader,r=this;a.readAsDataURL(e.target.files[0]),a.onload=function(e){console.log(r.isCropped);var t=new Image;t.src=e.target.result,t.onload=function(){var e=this.height,t=this.width;return e<210||t<210?(alert("Please choose file which has minimum height of 210 and width of 210"),!1):(r.ShowChooseFile=!1,r.isCropped=!0,!0)}}},delete_image(e){this.InitialArray.splice(e,1),this.RealArray.splice(e,1),console.log(this.InitialArray),console.log(this.RealArray)},pixelsRestriction({minWidth:e,minHeight:t,maxWidth:a,maxHeight:r,imageWidth:i,imageHeight:o}){return{minWidth:220,minHeight:220,maxWidth:400,maxHeight:400}}}},s=n,d=a(3736),l=(0,d.Z)(s,r,i,!1,null,null,null),m=l.exports}}]);
//# sourceMappingURL=550.4a250df5.js.map