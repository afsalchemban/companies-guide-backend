"use strict";(self["webpackChunkcompany_guide"]=self["webpackChunkcompany_guide"]||[]).push([[401],{8401:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mb-5"},[r("p",{staticClass:"font-general-medium text-center text-primary-dark dark:text-primary-light text-lg sm:text-2xl mb-8"},[e._v(" Add Media ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md",class:"title"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.title?e.errors.title[0]:"")+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"w-full my-2 px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md",class:"description"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",attrs:{type:"text",required:"",placeholder:"Description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.description?e.errors.description[0]:"")+" ")]),r("label",{staticClass:"block my-3 text-sm sm:text-lg text-primary-dark dark:text-primary-light mb-2",attrs:{for:"name"}},[e._v("Add Image")]),r("UploadImg",{class:"file"in e.errors?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700":"",on:{file:function(t){return e.getimg(t)}}}),r("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[e._v(" "+e._s(e.errors.file?e.errors.file[0]:"")+" ")]),r("div",[r("button",{staticClass:"px-4 py-2.5 w-full mt-6 text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",attrs:{type:"button","aria-label":"Signup"},on:{click:function(t){return e.add_media(e.$route.query.id)}}},[e._v(" Add ")])])],1)},a=[],o=(r(2526),r(1817),r(8309),r(6526)),s=r(6931),n={name:"add-media",data:function(){return{errors:{},errorMessage:null,title:"",description:"",file:null}},components:{UploadImg:o.Z},methods:{getimg:function(e){this.file=e},add_media:function(e){var t=this,r=new FormData;r.append("title",this.title),r.append("description",this.description),r.append("file",this.file),s.Z.post("/council/add_media_image/"+e,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),t.$router.push({path:"/council/media",query:{name:t.$route.query.name,id:t.$route.query.id}})})).catch((function(e){t.errors=e.response.data.errors,t.errorMessage=e.response.data.message,console.log(e.response.data.message)}))}}},d=n,l=r(3736),c=(0,l.Z)(d,i,a,!1,null,null,null),m=c.exports},6526:function(e,t,r){r.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"uploadWrap"},[r("div",{staticClass:"w-full px-5 py-2 border border-gray-300 dark:border-primary-dark border-opacity-50 text-primary-dark dark:text-secondary-light bg-ternary-light dark:bg-ternary-dark rounded-md shadow-sm text-sm sm:text-md"},[r("div",[e.isCropped?r("div",[r("Cropper",{attrs:{src:e.img},on:{change:e.change}}),r("div",{staticClass:"save-image flex justify-between"},[r("button",{staticClass:"text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",on:{click:e.saveImage}},[e._v(" Save ")]),r("button",{staticClass:"text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",on:{click:e.CancelCrop}},[e._v(" Cancel ")])])],1):e._e(),e.before_crop&&!e.isCropped?r("div",{staticClass:"mb-3"},[r("div",{staticClass:"img-selected-wrapper"},e._l(e.InitialArray,(function(t,i){return r("div",{key:i,staticClass:"selected-images"},[r("img",{attrs:{src:t}}),r("span",{staticClass:"material-icons removeIco",on:{click:function(t){return e.delete_image(i)}}},[e._v("X")])])})),0)]):e._e()]),r("div",{staticClass:"uploader-box"},[e.ShowChooseFile?r("div",{on:{click:e.chooseFile}},[r("div",{staticClass:"px-4 py-2.5 w-full text-sm sm:text-base text-white tracking-wider bg-indigo-500 hover:bg-indigo-600 focus:ring-1 focus:ring-indigo-900 rounded-lg duration-500",attrs:{role:"button"}},[r("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.chooseImage(t)}}}),e._v(" Upload ")])]):e._e()])])])])},a=[],o=(r(1539),r(8783),r(3948),r(285),r(1637),r(561),r(6867)),s={data:function(){return{before_crop:!0,isCropped:!1,ShowChooseFile:!0,IsDisabledUpload:!1,files:[],InitialArray:[],RealArray:[],temp:"",mapMarkers:{},img_file:null}},components:{Cropper:o.fl},methods:{getimgfile:function(){this.$emit("file",this.img_file)},chooseFile:function(){this.$refs.file.click()},CancelCrop:function(){this.before_crop=!0,this.isCropped=!1,this.ShowChooseFile=!0},saveImage:function(){this.before_crop=!0,this.isCropped=!1,this.ShowChooseFile=!0,this.getimgfile()},change:function(e){var t=this,r=e.canvas;r.toBlob((function(e){t.blobUrl=URL.createObjectURL(e),t.img_file=new File([e],"image",{lastModified:(new Date).getTime(),type:e.type},"image/jpeg",.3)}))},chooseImage:function(e){var t=e.target.files[0];this.img=URL.createObjectURL(t);var r=new FileReader,i=this;r.readAsDataURL(e.target.files[0]),r.onload=function(e){console.log(i.isCropped);var t=new Image;t.src=e.target.result,t.onload=function(){var e=this.height,t=this.width;return e<210||t<210?(alert("Please choose file which has minimum height of 210 and width of 210"),!1):(i.ShowChooseFile=!1,i.isCropped=!0,!0)}}},delete_image:function(e){this.InitialArray.splice(e,1),this.RealArray.splice(e,1),console.log(this.InitialArray),console.log(this.RealArray)},pixelsRestriction:function(e){e.minWidth,e.minHeight,e.maxWidth,e.maxHeight,e.imageWidth,e.imageHeight;return{minWidth:220,minHeight:220,maxWidth:400,maxHeight:400}}}},n=s,d=r(3736),l=(0,d.Z)(n,i,a,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=401-legacy.db764161.js.map